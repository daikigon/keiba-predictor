# ä¸­å¤®ç«¶é¦¬äºˆæƒ³ã‚¢ãƒ—ãƒª è¦ä»¶å®šç¾©æ›¸

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

ä¸­å¤®ç«¶é¦¬ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã§å–å¾—ã—ã€æ©Ÿæ¢°å­¦ç¿’ã‚’ç”¨ã„ã¦ãƒ¬ãƒ¼ã‚¹çµæžœã‚’äºˆæƒ³ã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚

## 2. æ©Ÿèƒ½è¦ä»¶

### 2.1 ãƒ‡ãƒ¼ã‚¿å–å¾—æ©Ÿèƒ½ï¼ˆã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ï¼‰

- **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: netkeiba
- **å–å¾—å¯¾è±¡ãƒ‡ãƒ¼ã‚¿**:
  - ãƒ¬ãƒ¼ã‚¹æƒ…å ±ï¼ˆæ—¥æ™‚ã€ã‚³ãƒ¼ã‚¹ã€è·é›¢ã€å¤©å€™ã€é¦¬å ´çŠ¶æ…‹ãªã©ï¼‰
  - å‡ºèµ°é¦¬æƒ…å ±ï¼ˆé¦¬åã€é¦¬é½¢ã€æ€§åˆ¥ã€æ–¤é‡ãªã©ï¼‰
  - éŽåŽ»æˆç¸¾ï¼ˆç€é †ã€ã‚¿ã‚¤ãƒ ã€é€šéŽé †ä½ãªã©ï¼‰
  - é¨Žæ‰‹æƒ…å ±ï¼ˆé¨Žæ‰‹åã€å‹çŽ‡ã€é€£å¯¾çŽ‡ãªã©ï¼‰
  - èª¿æ•™å¸«æƒ…å ±
  - ã‚ªãƒƒã‚ºæƒ…å ±ï¼ˆå˜å‹ã€è¤‡å‹ã€é¦¬é€£ãªã©ï¼‰
  - èª¿æ•™ã‚¿ã‚¤ãƒ 
  - è¡€çµ±æƒ…å ±
  - ã‚³ãƒ¼ã‚¹é©æ€§

### 2.2 äºˆæƒ³æ©Ÿèƒ½

- **äºˆæƒ³æ–¹å¼**: æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ« (LightGBM)
- **ç‰¹å¾´é‡**: 97å€‹ï¼ˆè©³ç´°ã¯FEATURES.mdå‚ç…§ï¼‰
- **ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå¤‰æ•°**:
  - target_strategy=0: 1ç€ã®ã¿æ­£ä¾‹
  - target_strategy=2: ã‚¿ã‚¤ãƒ åŒç€ã‚‚æ­£ä¾‹ï¼ˆæŽ¨å¥¨ï¼‰
- **å‡ºåŠ›å½¢å¼**:
  - å„é¦¬ã®äºˆæƒ³ç¢ºçŽ‡ï¼ˆã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ¸ˆã¿ï¼‰
  - æœŸå¾…å€¤ï¼ˆäºˆæ¸¬ç¢ºçŽ‡ Ã— ã‚ªãƒƒã‚ºï¼‰
  - æŽ¨å¥¨è²·ã„ç›®

### 2.3 æœŸå¾…å€¤ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½

éŽåŽ»ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦ã€æœŸå¾…å€¤ãƒ™ãƒ¼ã‚¹ã®è³­ã‘æˆ¦ç•¥ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€‚

- **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
  - å˜å‹EVä¸‹é™ãƒ»ä¸Šé™
  - é¦¬é€£EVä¸‹é™ãƒ»ä¸Šé™
  - æœ€ä½Žç¢ºçŽ‡ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
  - ãƒ†ã‚¹ãƒˆæœŸé–“æŒ‡å®šï¼ˆãƒ‡ãƒ¼ã‚¿ãƒªãƒ¼ã‚¯é˜²æ­¢ï¼‰
- **å‡ºåŠ›**:
  - å›žåŽçŽ‡
  - çš„ä¸­çŽ‡
  - åŽæ”¯

### 2.4 é–¾å€¤ã‚¹ã‚¤ãƒ¼ãƒ—åˆ†æžæ©Ÿèƒ½

EVé–¾å€¤ã‚’å¤‰åŒ–ã•ã›ãªãŒã‚‰æœ€é©ãªè³­ã‘æˆ¦ç•¥ã‚’æŽ¢ç´¢ã€‚

- **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
  - EVæœ€å°ãƒ»æœ€å¤§ï¼ˆã‚¹ã‚¤ãƒ¼ãƒ—ç¯„å›² & ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ä¸Šé™ï¼‰
  - è³­ã‘ç¨®åˆ¥ï¼ˆå˜å‹/é¦¬é€£ï¼‰
  - å¯¾è±¡ãƒ¬ãƒ¼ã‚¹æ•°ãƒ»æœŸé–“
- **å‡ºåŠ›**:
  - å„é–¾å€¤ã§ã®å›žåŽçŽ‡
  - ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ª
  - è³­ã‘æ•°
  - **ãƒ¬ãƒ¼ã‚¹æ•°**ï¼ˆè³­ã‘ãŒç™ºç”Ÿã—ãŸãƒ¬ãƒ¼ã‚¹æ•°ï¼‰
  - çš„ä¸­æ•°
  - åŽæ”¯
- **ã‚°ãƒ©ãƒ•è¡¨ç¤º**:
  - å›žåŽçŽ‡æ›²ç·š
  - ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªæ›²ç·š
  - 100%ãƒ©ã‚¤ãƒ³ï¼ˆæç›Šåˆ†å²ç‚¹ï¼‰

### 2.5 ãƒ¢ãƒ‡ãƒ«ç®¡ç†æ©Ÿèƒ½

- ãƒ¢ãƒ‡ãƒ«ã®å†å­¦ç¿’ï¼ˆæ™‚ç³»åˆ—åˆ†å‰²å¯¾å¿œï¼‰
- ãƒ¢ãƒ‡ãƒ«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
- Supabase Storageã¨ã®é€£æºï¼ˆã‚¯ãƒ©ã‚¦ãƒ‰ä¿å­˜ï¼‰
- ç‰¹å¾´é‡é‡è¦åº¦ã®è¡¨ç¤º

### 2.6 äºˆæƒ³å±¥æ­´æ©Ÿèƒ½

- éŽåŽ»ã®äºˆæƒ³çµæžœã‚’ä¿å­˜
- äºˆæƒ³ã¨å®Ÿéš›ã®çµæžœã‚’æ¯”è¼ƒ
- çš„ä¸­çŽ‡ãƒ»å›žåŽçŽ‡ã®é›†è¨ˆè¡¨ç¤º
- ãƒ¢ãƒ‡ãƒ«ã®ç²¾åº¦æŽ¨ç§»ã‚°ãƒ©ãƒ•

### 2.7 ãã®ä»–æ©Ÿèƒ½

- é–‹å‚¬ãƒ¬ãƒ¼ã‚¹ä¸€è¦§è¡¨ç¤º
- å‡ºèµ°é¦¬è©³ç´°æƒ…å ±è¡¨ç¤º
- ãƒ‡ãƒ¼ã‚¿æ›´æ–°æ©Ÿèƒ½ï¼ˆæ‰‹å‹•/è‡ªå‹•ï¼‰
- DBæŽ¥ç¶šçŠ¶æ…‹è¡¨ç¤º

## 3. éžæ©Ÿèƒ½è¦ä»¶

### 3.1 åˆ©ç”¨è€…

- å€‹äººåˆ©ç”¨ï¼ˆè‡ªåˆ†ã®ã¿ï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ã¯ä¸è¦

### 3.2 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ |
|---------|------|
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | Next.js 15 (TypeScript, App Router) |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | Python (FastAPI) |
| æ©Ÿæ¢°å­¦ç¿’ | LightGBM, scikit-learn |
| ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚° | BeautifulSoup / Selenium |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | PostgreSQL (Supabase) |
| ORM | SQLAlchemy |
| ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ | Supabase Storage |

### 3.3 ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

```
+------------------+     +------------------+
|   Next.js        |---->|   FastAPI        |
|   (Frontend)     |<----|   (Backend)      |
+------------------+     +--------+---------+
                                  |
                    +-------------+-------------+
                    v             v             v
              +----------+ +----------+ +----------+
              | Supabase | | ML Model | | Scraper  |
              | (DB/Storage) +----------+ +----------+
              +----------+
```

## 4. ç”»é¢ä¸€è¦§

| ç”»é¢å | æ¦‚è¦ |
|--------|------|
| ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | æœ¬æ—¥ã®é–‹å‚¬ãƒ¬ãƒ¼ã‚¹ä¸€è¦§ã€ç›´è¿‘ã®äºˆæƒ³çµæžœ |
| ãƒ¬ãƒ¼ã‚¹è©³ç´° | å‡ºèµ°é¦¬æƒ…å ±ã€äºˆæƒ³çµæžœã€ã‚ªãƒƒã‚ºè¡¨ç¤º |
| äºˆæƒ³å±¥æ­´ | éŽåŽ»ã®äºˆæƒ³ä¸€è¦§ã€çš„ä¸­çŽ‡ãƒ»å›žåŽçŽ‡è¡¨ç¤º |
| ãƒ‡ãƒ¼ã‚¿ç®¡ç† | ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å®Ÿè¡Œã€ãƒ‡ãƒ¼ã‚¿æ›´æ–°çŠ¶æ³ |
| ãƒ¢ãƒ‡ãƒ«ç®¡ç† | å†å­¦ç¿’ã€ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€é–¾å€¤ã‚¹ã‚¤ãƒ¼ãƒ—åˆ†æž |
| é¦¬è©³ç´° | é¦¬ã®éŽåŽ»æˆç¸¾ã€è¡€çµ±æƒ…å ± |

## 5. é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º

### Phase 1: åŸºç›¤æ§‹ç¯‰ âœ…
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°æ©Ÿèƒ½å®Ÿè£…
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»æ§‹ç¯‰

### Phase 2: æ©Ÿæ¢°å­¦ç¿’ âœ…
- ç‰¹å¾´é‡ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ï¼ˆ97ç‰¹å¾´é‡ï¼‰
- ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ãƒ»è©•ä¾¡
- äºˆæ¸¬APIå®Ÿè£…
- ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½

### Phase 3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ âœ…
- ç”»é¢å®Ÿè£…
- APIé€£æº
- äºˆæƒ³å±¥æ­´æ©Ÿèƒ½

### Phase 4: é‹ç”¨ãƒ»æ”¹å–„ ðŸš§
- è‡ªå‹•ãƒ‡ãƒ¼ã‚¿æ›´æ–°
- ãƒ¢ãƒ‡ãƒ«å†å­¦ç¿’ã®ä»•çµ„ã¿
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹æ”¹å–„
- æœŸå¾…å€¤ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- é–¾å€¤ã‚¹ã‚¤ãƒ¼ãƒ—åˆ†æž

## 6. æœ€æ–°ã®æ”¹å–„ç‚¹

### 2025å¹´1æœˆ

- **target_strategy=2**: ã‚¿ã‚¤ãƒ åŒç€é¦¬ã‚’æ­£ä¾‹ã«å«ã‚ã‚‹æ©Ÿèƒ½è¿½åŠ 
- **ç‰¹å¾´é‡è¿½åŠ **: è„šè³ªã€å­£ç¯€ã€ãƒšãƒ¼ã‚¹ã€äººæ°—åˆ¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ï¼ˆ30å€‹è¿½åŠ ï¼‰
- **é–¾å€¤ã‚¹ã‚¤ãƒ¼ãƒ—åˆ†æžã®ãƒã‚°ä¿®æ­£**: EVæœ€å¤§ãŒãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ä¸Šé™ã¨ã—ã¦æ©Ÿèƒ½ã™ã‚‹ã‚ˆã†ä¿®æ­£
- **ãƒ¬ãƒ¼ã‚¹æ•°è¡¨ç¤ºè¿½åŠ **: é–¾å€¤ã‚¹ã‚¤ãƒ¼ãƒ—çµæžœã«è³­ã‘ãŒç™ºç”Ÿã—ãŸãƒ¬ãƒ¼ã‚¹æ•°ã‚’è¡¨ç¤º
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–**: éŽåŽ»æˆç¸¾å–å¾—ã®DBè² è·ã‚’å‰Šæ¸›

## 7. æ³¨æ„äº‹é …

- netkeibaã®åˆ©ç”¨è¦ç´„ã‚’ç¢ºèªã—ã€ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã¯é©åˆ‡ãªé–“éš”ã§å®Ÿè¡Œã™ã‚‹ã“ã¨
- å–å¾—ãƒ‡ãƒ¼ã‚¿ã¯å€‹äººåˆ©ç”¨ã®ç¯„å›²å†…ã§ä½¿ç”¨ã™ã‚‹ã“ã¨
- äºˆæƒ³ã¯ã‚ãã¾ã§å‚è€ƒæƒ…å ±ã§ã‚ã‚Šã€é¦¬åˆ¸è³¼å…¥ã¯è‡ªå·±è²¬ä»»ã§è¡Œã†ã“ã¨
